<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <title>Swagger UI</title>

    <link rel="icon" type="image/png" href="images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="images/favicon-16x16.png" sizes="16x16">

    <link href='css/typography.css' media='screen' rel='stylesheet' type='text/css'>
    <link href='css/reset.css' media='screen' rel='stylesheet' type='text/css'>
    <link href='css/screen.css' media='screen' rel='stylesheet' type='text/css'>
    <link href='css/reset.css' media='print' rel='stylesheet' type='text/css'>
    <link href='css/print.css' media='print' rel='stylesheet' type='text/css'>
  </head>
  <body class="swagger-section">
    <div id='header'>
      <div class="swagger-ui-wrap">
        <a href="http://swagger.io" id="logo"><img alt="swagger" class="logo__img" height="30" src="images/logo_small.png" width="30" /><span class="logo__title">swagger</span></a>
        <form id='api_selector'>
          <div class='input'>
            <input id="input_baseUrl" name="baseUrl" placeholder="http://example.com/api" type="text"/>
          </div>
          <div id='auth_container'></div>
          <div class='input'>
            <a class="header__btn" data-sw-translate href="#" id="explore">Explore</a>
          </div>
        </form>
      </div>
    </div>
    <div class="swagger-ui-wrap" data-sw-translate id="message-bar">&nbsp;</div>
    <div class="swagger-ui-wrap" id="swagger-ui-container"></div>

    <script src='lib/object-assign-pollyfill.js' type='text/javascript'></script>
    <script src='lib/jquery-1.8.0.min.js' type='text/javascript'></script>
    <script src='lib/jquery.slideto.min.js' type='text/javascript'></script>
    <script src='lib/jquery.wiggle.min.js' type='text/javascript'></script>
    <script src='lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
    <script src='lib/handlebars-4.0.5.js' type='text/javascript'></script>
    <script src='lib/lodash.min.js' type='text/javascript'></script>
    <script src='lib/backbone-min.js' type='text/javascript'></script>
    <script src='swagger-ui.min.js' type='text/javascript'></script>
    <script src='lib/highlight.9.1.0.pack.js' type='text/javascript'></script>
    <script src='lib/highlight.9.1.0.pack_extended.js' type='text/javascript'></script>
    <script src='lib/jsoneditor.min.js' type='text/javascript'></script>
    <script src='lib/marked.js' type='text/javascript'></script>
    <script src='lib/swagger-oauth.js' type='text/javascript'></script>

    <!-- Some basic translations -->
    <!-- <script src='lang/translator.js' type='text/javascript'></script> -->
    <!-- <script src='lang/ru.js' type='text/javascript'></script> -->
    <!-- <script src='lang/en.js' type='text/javascript'></script> -->

    <script type="text/javascript">
      $(
        function swaggerOnReady()
        {
          var url;

          url = window.location.search.match(/url=([^&]+)/);
          if(url && url.length > 1)
          {
            url = decodeURIComponent(url[1]);
          }
          else
          {
            url = 'http://petstore.swagger.io/v2/swagger.json';
          }

          // Pre-load translate...
          if(window.SwaggerTranslator)
          {
            window.SwaggerTranslator.translate();
          }

          $.getJSON('config.json', function loadConfigSuccess(data, _textStatus, _jqXhr)
          {
            log(data);

            loadSwaggerUI(data);
          });

          function loadSwaggerUI(config)
          {
            var methodOrder = ['get', 'head', 'options', 'put', 'post', 'delete'];

            window.swaggerUi = new SwaggerUi({
              apiKey: '',
              apisSorter: 'alpha',
              docExpansion: 'none',
              dom_id: "swagger-ui-container",
              highlightSizeThreshold: 16384,
              onComplete: function swaggerUIOnComplete(swaggerApi, swaggerUI)
              {
                log('Loaded SwaggerUI.');
                log(swaggerApi);
                log(swaggerUI);

                if(typeof initOAuth == 'function')
                {
                  initOAuth({
                    clientId: '9ySaNXVzFK7fZRJizNHoY6mZOXCF7XdQOsSenIYdXSQ6HOc3DtbuL3WnFQkcq46uW06cgcUXTQQohA531dMDNDceJxA8zI9BedncL3Pqog3EZJQ3tusges1LzCvrCoUF',
                    clientSecret: 'BbjR5rviYyVH9FudUspQiAAshBrNsYdZR1YPFFypJmf4a5XoFombvaCv1AABfVp2GKOZ3eu9MntRPhDPs1p4CApIKBZqiWv8ISRBFy4HV5evRyykxruSmzxYydqBiC5S',
                    realm: 'frontend',
                    appName: 'NeuForm Web Client',
                    scopeSeparator: ' ',
                    additionalQueryStringParams: {}
                  });
                }

                if(window.SwaggerTranslator)
                {
                  window.SwaggerTranslator.translate();
                }
              },
              onFailure: function swaggerUIOnFailure(data)
              {
                log('Unable to load SwaggerUI.');
                log(data);
              },
              operationsSorter: function swaggerUIOperationsSorter(a, b)
              {
                var pathCompare = a.path.localeCompare(b.path);

                return pathCompare !== 0 ? pathCompare : methodOrder.indexOf(a.method) - methodOrder.indexOf(b.method);
              },
              url: config.url || '/swagger/resources',
              validatorUrl: null
            });

            window.swaggerUi.load();
          }

          function log()
          {
            if('console' in window)
            {
              console.log.apply(console, arguments);
            }
          }
        }
      );
    </script>
  </body>
</html>
